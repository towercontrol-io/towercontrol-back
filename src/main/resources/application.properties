spring.application.name=iotowercontrol
spring.config.import=optional:file:/configuration/common.properties,optional:file:./configuration/common.properties
spring.task.scheduling.pool.size=15
#logging.level.org.springframework=DEBUG
#logging.level.org.springframework.context.support=DEBUG
spring.main.banner-mode=off
spring.main.register-shutdown-hook=true

# ##################################
# Spring AI related configuration
spring.main.allow-bean-definition-overriding=true
spring.ai.vectorstore.pgvector.initialize-schema=${PGVECTOR_INIT_SCHEMA:false}

# #################################
# Logging
#logging.level.org.springframework.security=DEBUG
#logging.level.org.springframework.security.web.FilterChainProxy=DEBUG
#logging.level.org.springframework.web=DEBUG

# #################################
# MONGO DB
spring.data.mongodb.auto-index-creation=true
spring.mongodb.embedded.version=7.3.0
spring.data.mongodb.uri=mongodb://${common.mongo.url}

# #################################
# POSTGRES DB
#  connection pool
spring.datasource.hikari.connectionTimeout=20000
spring.datasource.hikari.maximumPoolSize=20
#  config
spring.jpa.hibernate.ddl-auto=update
spring.datasource.initialization-mode=always
spring.datasource.platform=postgres
spring.jpa.open-in-view=false
#  disable to boot on flyway to let JPA manage the schema change
spring.flyway.enabled=false
spring.flyway.baseline-on-migrate=true
# connection
spring.datasource.url=${common.psql.url}
spring.datasource.username=${common.psql.username}
spring.datasource.password=${common.psql.password}


# #################################
# MISC
common.application.key=a84c2d1f7b9e063d5f1a2e9c3b7d408e

# #################################
# WEB SERVER

server.port = 8081
server.address=0.0.0.0
server.forward-headers-strategy=native

# swagger documentation
springdoc.api-docs.path=/api/api-docs
springdoc.swagger-ui.path=/api/swagger-ui.html
springdoc.show-actuator=true

# Metering
management.endpoints.web.exposure.include=health,info,metrics,scheduledtasks,threaddump,prometheus